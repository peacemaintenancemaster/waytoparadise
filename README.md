# Way to Paradise - Asset Management Dashboard

복잡한 금융 데이터 처리와 직관적인 UI/UX를 갖춘 로컬 우선(Local-First) 자산 관리 대시보드입니다.

## 주요 특징

### 🔒 완전한 로컬 환경
- **외부 서버 전송 없음**: 모든 데이터는 브라우저의 IndexedDB에 저장
- **프라이버시 보호**: 금융 데이터가 외부로 유출되지 않음
- **오프라인 작동**: 인터넷 연결 없이도 사용 가능

### 📊 직관적인 데이터 입력
- **드래그 앤 드롭**: Excel/CSV 파일을 드래그하여 즉시 업로드
- **복사/붙여넣기**: HTS 화면에서 Ctrl+C로 복사한 데이터를 바로 붙여넣기
- **다양한 형식 지원**: TSV, CSV, XLSX, XLS 파일 자동 파싱
- **자동 티커 매핑**: 종목명을 티커로 자동 변환

### 💰 통합 자산 관리
지원하는 자산 클래스:
- 🇰🇷 **국내 주식/ETF**: 한국 증시 종목
- 🇺🇸 **해외 주식/ETF**: 미국 증시 종목 (이중 통화 회계)
- 🏦 **채권**: 한국 채권 (금액 보정 로직 포함)
- 🥇 **금현물**: KRX 금현물
- 🏦 **연금계좌**: IRP/ISA/DC 계좌

### 📈 고급 회계 기능
- **이동평균법**: 평균 단가 기준 손익 계산
- **시간가중수익률(TWR)**: 입출금 영향을 배제한 정확한 수익률
- **이중 통화 회계**: 해외 자산의 USD/KRW 동시 기록
- **실현/미실현 손익**: 완전히 분리된 손익 추적
- **배당 추적**: 배당금 및 배당세 자동 기록

### 🎯 포트폴리오 관리
- **커스텀 포트폴리오**: 자유롭게 포트폴리오 구성
- **목표 비중 설정**: 원하는 자산 배분 비율 지정
- **리밸런싱 지시**: 목표 비중 대비 매수/매도 수량 자동 계산
- **CAGR 분석**: 연평균 성장률 자동 계산

### 🌦️ 거시경제 날씨 대시보드
- **Z-Score 기반**: 절대값이 아닌 통계적 편차로 평가
- **직관적 시각화**: 날씨 아이콘으로 경제 상황 표현
- **25개 지표**: 미국/한국/중국/글로벌 경제 지표
- **가중치 설정**: 중요도에 따른 가중 평균

### 🏖️ 은퇴 계획 시뮬레이션
- **4% 인출 규칙**: Trinity Study 기반 은퇴 자산 계산
- **물가상승률 반영**: 실질 가치 기준 목표 설정
- **필요 CAGR 계산**: 목표 달성에 필요한 연평균 수익률
- **시각화**: 자산 성장 궤적 차트

### 🎨 세련된 UI/UX
- **다크 테마**: 눈이 편한 다크 모드 디자인
- **부드러운 애니메이션**: 페이드인, 슬라이드, 스케일 효과
- **그라데이션 차트**: 아름다운 데이터 시각화
- **반응형 디자인**: 모바일, 태블릿, 데스크톱 모두 지원
- **유려한 인터랙션**: 호버 효과, 포커스 상태, 트랜지션

## 기술 스택

- **Frontend**: Next.js 16, React 19, TypeScript
- **Styling**: Tailwind CSS 4
- **UI Components**: Radix UI
- **Data Storage**: IndexedDB (브라우저 로컬)
- **Charts**: Custom SVG Charts
- **File Parsing**: SheetJS (xlsx)
- **Icons**: Lucide React

## 시작하기

### 설치

```bash
npm install
```

### 개발 서버 실행

```bash
npm run dev
```

브라우저에서 [http://localhost:3000](http://localhost:3000)을 열어 확인하세요.

### 프로덕션 빌드

```bash
npm run build
npm start
```

## 사용 방법

### 1. 데이터 입력
1. **파일 업로드**: 우측 상단 "파일 업로드" 버튼 클릭 또는 드래그 앤 드롭
2. **복사/붙여넣기**: HTS에서 거래내역을 복사하여 텍스트 영역에 붙여넣기
3. **계좌명 입력**: 선택적으로 계좌명 지정

### 2. 티커 매핑
- 종목명만 있는 데이터는 자동으로 티커 매핑 요청
- 상단 알림에서 티커를 입력하고 "적용" 버튼 클릭

### 3. 포트폴리오 생성
1. "포트폴리오" 탭으로 이동
2. "포트폴리오 생성" 버튼 클릭
3. 종목 선택 및 목표 비중 입력 (선택사항)
4. 저장

### 4. 거시경제 분석
1. "거시경제" 탭으로 이동
2. 관심 지표 선택/해제
3. 종합 날씨 위젯 확인

### 5. 은퇴 계획
1. "은퇴플랜" 탭으로 이동
2. 현재 자산, 연간 납입액, 은퇴 연도, 목표 인출액 입력
3. 필요 CAGR 및 달성률 확인

## 프로젝트 구조

```
webapp/
├── app/
│   ├── globals.css          # 전역 스타일 및 애니메이션
│   ├── layout.tsx            # 루트 레이아웃
│   └── page.tsx              # 메인 페이지
├── components/
│   ├── charts.tsx            # 차트 컴포넌트
│   ├── dashboard-app.tsx     # 메인 대시보드
│   └── ui/                   # UI 컴포넌트 라이브러리
├── lib/
│   ├── accounting.ts         # 회계 로직
│   ├── constants.ts          # 상수 및 타입 정의
│   ├── db.ts                 # IndexedDB 인터페이스
│   ├── parsing.ts            # 데이터 파싱
│   └── utils.ts              # 유틸리티 함수
└── public/                   # 정적 파일
```

## 주요 개념

### 거래 유형 (Transaction Types)
- `BUY`: 매수
- `SELL`: 매도
- `DIVIDEND`: 배당금
- `TAX`: 세금
- `FEE`: 수수료
- `DEPOSIT`: 입금
- `WITHDRAWAL`: 출금
- `MERGER_SPLIT`: 합병/분할
- `INTEREST`: 이자

### 자산 클래스 (Asset Classes)
- `KR_STOCK`: 국내 주식
- `KR_ETF`: 국내 ETF
- `US_STOCK`: 해외 주식
- `US_ETF`: 해외 ETF
- `KR_BOND`: 채권
- `GOLD`: 금현물
- `PENSION`: 연금
- `CASH`: 현금

## 금융 도메인 규칙

### 이중 통화 회계
해외 주식 거래 시:
- 거래 시점 환율로 USD → KRW 변환
- 양쪽 통화 모두 기록
- 배당금은 USD, 배당세는 KRW로 처리

### 중복 거래 병합
- 같은 날짜, 같은 종목, 같은 원번호의 거래는 자동 병합
- 예: "주식매수입고"와 "주식매수출금"이 하나의 거래로 통합

### 채권 금액 보정
- 표면단가와 실제 거래금액의 차이를 보정
- 정확한 수익률 계산을 위한 조정

## 보안 및 프라이버시

- ✅ 모든 데이터는 브라우저 로컬에 저장
- ✅ 외부 서버로 데이터 전송 없음
- ✅ 네트워크 요청 없음 (거시경제 API 제외)
- ✅ 개인 금융 정보 완전 보호

## 브라우저 지원

- Chrome/Edge: ✅ 완전 지원
- Firefox: ✅ 완전 지원
- Safari: ✅ 완전 지원
- Mobile: ✅ 반응형 지원

## 라이선스

이 프로젝트는 개인 사용을 위한 것입니다.

## 기여

이슈나 풀 리퀘스트는 언제든 환영합니다!

---

**Way to Paradise** - 당신의 재무적 자유를 향한 길잡이 🏝️
